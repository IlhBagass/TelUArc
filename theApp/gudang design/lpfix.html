            <form action="{{ route('profile.update') }}" method="POST" enctype="multipart/form-data" class="p-6 overflow-y-auto flex-grow">
                @csrf
                @method('PUT')
                
                <!-- Avatar Upload -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-3">Foto Profil</label>
                    <div class="flex flex-col items-center">
                        <img id="avatarPreview" src="{{ asset('storage/' . auth()->user()->avatar) }}" alt="Profile" class="w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg mb-4">
                        <label for="avatarInput" class="cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-camera mr-2"></i> Ganti Foto
                        </label>
                        <input type="file" name="avatar" id="avatarInput" accept="image/*" class="hidden">
                    </div>
                </div>

                <!-- Name Input -->
                <div class="mb-5">
                    <label for="editName" class="block text-sm font-medium text-gray-700 mb-2">Nama</label>
                    <div class="relative">
                        <input type="text" id="editName" name="name" value="{{ auth()->user()->name }}" class="w-full form-input" required>
                        <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                            <i class="fas fa-user text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Username Input -->
                <div class="mb-5">
                    <label for="editUsername" class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                    <div class="relative">
                        <input type="text" id="editUsername" name="username" value="{{ auth()->user()->username }}" class="w-full form-input" required>
                        <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                            <i class="fas fa-at text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Bio Textarea -->
                <div class="mb-5">
                    <label for="editBio" class="block text-sm font-medium text-gray-700 mb-2">Bio</label>
                    <div class="relative">
                        <textarea id="editBio" name="bio" class="w-full form-input" rows="3" placeholder="Ceritakan tentang diri Anda...">{{ auth()->user()->bio }}</textarea>
                        <div class="absolute top-3 right-3 pointer-events-none">
                            <i class="fas fa-align-left text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="flex items-center justify-between pt-4 border-t border-gray-200">
                    <button type="button" onclick="closeEditProfileModal()" class="px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                        Batal
                    </button>
                    <button type="submit" class="btn-primary flex items-center">
                        <i class="fas fa-save mr-2"></i> Simpan Perubahan
                    </button>
                </div>
            </form>S